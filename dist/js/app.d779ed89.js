(function(e){function t(t){for(var i,a,o=t[0],l=t[1],c=t[2],d=0,h=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&h.push(s[a][0]),s[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,o=1;o<n.length;o++){var l=n[o];0!==s[l]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},s={app:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/pixi-spine-viewer/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"044b":function(e,t,n){"use strict";n("69d3")},1:function(e,t){},"29d0":function(e,t,n){},"52e3":function(e,t,n){},5666:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"slotContainer",(function(){return $e})),n.d(i,"stageColor",(function(){return ye})),n.d(i,"stageRenderType",(function(){return xe})),n.d(i,"zoom",(function(){return Te})),n.d(i,"pos",(function(){return De})),n.d(i,"posX",(function(){return Le})),n.d(i,"posY",(function(){return Pe})),n.d(i,"stageImgFile",(function(){return Ie})),n.d(i,"stageImgData",(function(){return Oe})),n.d(i,"scale",(function(){return je})),n.d(i,"flipX",(function(){return Re})),n.d(i,"speed",(function(){return Fe})),n.d(i,"flipY",(function(){return Ae})),n.d(i,"getTracks",(function(){return Ne})),n.d(i,"currentTrack",(function(){return We})),n.d(i,"currentSkin",(function(){return ze})),n.d(i,"loop",(function(){return Ge})),n.d(i,"spineData",(function(){return Be})),n.d(i,"hasSpineData",(function(){return Ye})),n.d(i,"animations",(function(){return Ue})),n.d(i,"skins",(function(){return Xe})),n.d(i,"currentAnimation",(function(){return Ve})),n.d(i,"showStart",(function(){return Me})),n.d(i,"showEvent",(function(){return He})),n.d(i,"showComplete",(function(){return qe})),n.d(i,"showEnd",(function(){return Ke})),n.d(i,"showInterrupt",(function(){return Ze})),n.d(i,"showDispose",(function(){return Je})),n.d(i,"uploadSource",(function(){return Qe}));var s={};n.r(s),n.d(s,"clearSpine",(function(){return Xt})),n.d(s,"changeVersion",(function(){return Vt})),n.d(s,"changeUploadSource",(function(){return Mt})),n.d(s,"parseFiles",(function(){return Ht}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=n("15e0"),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("el-container",{attrs:{id:"main-container"}},[t("el-container",[t("el-main",[t("the-preview-stage")],1)],1),t("the-side-panel")],1)],1)},l=[],c=(n("b680"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"preview-el"},[t("resize-observer",{on:{notify:e.handleResize}}),t("canvas",{ref:"previewStageWebGL",staticClass:"webgl"}),t("canvas",{ref:"previewStageCanvas2d",staticClass:"canvas2d"}),t("div",{staticClass:"stageInfo"},[t("div",{attrs:{id:"framerate"}},[e._v("FPS: "+e._s(e.curFPS.toFixed(0)))]),t("div",{attrs:{id:"render"}},[e._v("Use: "+e._s(e.isCurrentWebGl?"WebGL":"Canvas2d"))])]),t("div",{staticClass:"progress-container"},[t("div",{staticClass:"progress-time"},[e._v(" "+e._s(e.currentTime.toFixed(2))+"s / "+e._s(e.totalTime.toFixed(2))+"s ")])])],1)}),u=[],d=n("5530"),h=(n("a4d3"),n("e01a"),n("99af"),n("a15b"),n("14d9"),n("a434"),n("b0c0"),n("e9f5"),n("7d54"),n("d3b7"),n("ac1f"),n("5319"),n("18a5"),n("159b"),n("2f62")),p=n("b012"),f=n("252c"),m=n("de48"),g=(n("d9e2"),n("4de4"),n("7db0"),n("caad"),n("d81d"),n("13d5"),n("4e82"),n("c19f"),n("2c66"),n("249d"),n("40e9"),n("910d"),n("f665"),n("ab43"),n("9485"),n("8a79"),n("2532"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("6ce5"),n("2834"),n("72f7"),n("4ea1"),n("1986")),v=n("588a"),w="EVENT_ADD_ANIMATION",b="EVENT_SET_ANIMATION",S="EVENT_RESET_TRACK",_="EVENT_RESET_TRACKS",E="EVENT_RESET_SETUP_POSE",C=1,k=2,$=new r["default"],y=function(e,t){var n=e.find((function(e){return e.filename.toLowerCase().endsWith(t)}));if(!n)throw new Error("File with extension ".concat(t," no found"));return n},x=function(e){return new Promise((function(t,n){var i,s,r,o,l,c=y(e,"atlas");try{i=y(e,"json")}catch(h){s=y(e,"skel")}i?(r=i,l=r.fileBody,o=new g["j"](null)):s&&(r=s,l=r.fileBody,o=new g["h"](null),l instanceof ArrayBuffer&&(l=new Uint8Array(l)));var u="".concat(r.filename,"_atlas_page_");e.filter((function(e){return e.filename.toLowerCase().endsWith(".png")||e.filename.toLowerCase().endsWith(".jpg")||e.filename.toLowerCase().endsWith(".webp")||e.filename.toLowerCase().endsWith(".avif")})).forEach((function(e){var t=u+e.filename,n=new a["LoaderResource"](t,"");n.texture=a["Texture"].from(e.fileBody),a["Loader"].shared.resources[t]=n}));var d=Object(v["b"])(a["Loader"].shared,u,"",{});new g["m"](c.fileBody,d,(function(e){var i;o.attachmentLoader=new g["c"](e);try{i=o.readSkeletonData(l)}catch(h){return void n(h)}t({spineData:i,spineAtlas:e})}))}))},T=function(){a["Loader"].shared.resources={}},D=function(e){return e.map((function(e){return e.children.length?e.children=D(e.children):delete e.children,e}))},L=function(e){var t=e.splice(0).sort().sort((function(e,t){return e.includes("/")&&t.includes("/")?e.localeCompare(t):e.includes("/")?-1:t.includes("/")?1:e.localeCompare(t)})).reduce((function(e,t){var n=t.split("/");return n.reduce((function(e,t){var n=e.find((function(e){return e.value===t}));return n||e.push(n={value:t,label:t,children:[]}),n.children}),e),e}),[]);return D(t)},P={spineData:null};function I(e){P.spineData=e}function O(){return P.spineData}var j=n("d4ec"),R=n("bee2"),F=n("8f33"),A=n("2edc"),N=n("262e"),W=(n("cfc3"),function(e){function t(e){var n;Object(j["a"])(this,t),n=Object(F["a"])(this,t,[new g["i"]]);try{n.changeSkeleton(e)}catch(i){console.log("Spine element cannot be created, name '".concat(e.name,"'. Error ").concat(i))}return n}return Object(N["a"])(t,e),Object(R["a"])(t,[{key:"changeSkeleton",value:function(e){return this.spineData=e,this.skeleton=new g["g"](this.spineData),this.skeleton.updateWorldTransform(),this.stateData=new g["b"](this.spineData),this.state=new g["a"](this.stateData),this.createChildren(),this.autoUpdate=!0,this.tintRgb=new Float32Array([1,1,1]),!0}},{key:"createChildren",value:function(){this.slotContainers=[],this.tempClipContainers=[],this.removeChildren();for(var e=0,t=this.skeleton.slots.length;e<t;e++){var n=this.skeleton.slots[e],i=n.getAttachment(),s=this.newContainer();if(s.name=n.data.name,this.slotContainers.push(s),this.addChild(s),this.tempClipContainers.push(null),i instanceof g["f"]){if(!i.region)continue;var r=i.region.name,a=this.createSprite(n,i,r);n.currentSprite=a,n.currentSpriteName=r,s.addChild(a)}else if(i instanceof g["e"]){var o=this.createMesh(n,i);n.currentMesh=o,n.currentMeshName=i.name,s.addChild(o)}else i instanceof g["d"]&&(this.createGraphics(n,i),s.addChild(n.clippingContainer),s.addChild(n.currentGraphics))}}},{key:"createSprite",value:function(e,n,i){var s=Object(A["a"])(t,"createSprite",this,3)([e,n,i]);return s.name=n.name,s}},{key:"createGraphics",value:function(e,n){var i=Object(A["a"])(t,"createGraphics",this,3)([e,n]);return i.name=n.name,i}}])}(g["k"])),z="startDrag",G="updatePosition",B="endDrag";function Y(e){this.dragging||(this.data=e.data,this.dragging=!0,this.dragPoint=e.data.getLocalPosition(this.parent),this.dragPoint.x-=this.x,this.dragPoint.y-=this.y,this.emit(z))}function U(){if(this.dragging){var e=this.data.getLocalPosition(this.parent);this.x=e.x-this.dragPoint.x,this.y=e.y-this.dragPoint.y,this.emit(G,{x:this.x,y:this.y})}}function X(){this.dragging=!1,this.data=null,this.emit(B)}var V=function(e){e.interactive=!0,e.on("rightdown",Y).on("mousemove",U).on("rightup",X)},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e.addEventListener("wheel",(function(e){e.preventDefault(),t(-e.deltaY*(e.deltaMode?120:1)/500,e.clientX,e.clientY,e.ctrlKey)}))};r["default"].component("resize-observer",f["a"]);var H=Symbol("default"),q=Symbol("orange"),K=Symbol("green"),Z=Symbol("red"),J=function(e){var t={fill:"#4a86c7",fontSize:26,stroke:"white",strokeThickness:1};switch(e){case q:t.fill="#ffcb0c";break;case K:t.fill="#03ff6e";break;case Z:t.fill="#ff6604";break;default:break}return t},Q=20,ee=15,te={name:"ThePreviewStage",computed:Object(d["a"])({stageBGColor:function(){return parseInt(this.stageColor.replace(/^#/,""),16)}},Object(h["b"])(["stageColor","stageRenderType"])),data:function(){return{curFPS:0,isCurrentWebGl:!1,trackEntry:null,currentTime:0,totalTime:0}},mounted:function(){var e={autoResize:!0,backgroundColor:this.stageBGColor};this.canvasRenderer=new a["Renderer"](Object(d["a"])(Object(d["a"])({},e),{},{view:this.$refs.previewStageCanvas2d,width:this.$refs.previewStageCanvas2d.offsetWidth,height:this.$refs.previewStageCanvas2d.offsetHeight})),this.$refs.previewStageCanvas2d.addEventListener("contextmenu",this.preventDef),a["utils"].isWebGLSupported()&&(this.webGLRenderer=new a["Renderer"](Object(d["a"])(Object(d["a"])({},e),{},{view:this.$refs.previewStageWebGL,width:this.$refs.previewStageWebGL.offsetWidth,height:this.$refs.previewStageWebGL.offsetHeight})),this.$refs.previewStageWebGL.addEventListener("contextmenu",this.preventDef));var t=this.stageRenderType===a["RENDERER_TYPE"].WEBGL,n=t&&a["utils"].isWebGLSupported();this.stage=new a["Container"],this.stage.name="stage",this.wrapper=new a["Sprite"],this.wrapper.name="wrapper",this.wrapper.anchor.set(.5,.5),this.stage.addChild(this.wrapper),V(this.wrapper),this.progressEl=new a["Graphics"],this.progressEl.name="progress",this.stage.addChild(this.progressEl),this.progressEventEl=new a["Graphics"],this.progressEventEl.name="progressEv",this.stage.addChild(this.progressEventEl),this.tracksInfoEl=new a["Text"]("",{fill:"#fff",fontSize:13,stroke:"#404040",strokeThickness:2}),this.tracksInfoEl.anchor.y=1,this.stage.addChild(this.tracksInfoEl),this.ticker=new a["Ticker"],this.ticker.add(this.render,this,a["UPDATE_PRIORITY"].LOW),this.switchRenderType(n),this.addStoreListeners(),this.ticker.start()},created:function(){var e=this;this.handleResize=Object(p["debounce"])((function(){e.renderer&&(e.renderer.resize(e.$el.clientWidth,e.$el.clientHeight),e.wrapper.position.set(e.renderer.screen.width/2,e.renderer.screen.height/2))}),300),this.watchers=[],this.renderer=null,this.canvasRenderer=null,this.webGLRenderer=null,this.ticker=null,this.interaction=null,this.stage=null,this.wrapper=null,this.spineEl=null,this.progressEl=null,this.progressEventEl=null,this.tracksInfoEl=null},beforeDestroy:function(){while(this.watchers.length){var e=this.watchers.shift();e()}if($.$off(w,this.addAnimation),$.$off(b,this.setAnimation),$.$off(S,this.clearTrack),$.$off(_,this.clearTracks),this.spineEl&&(this.wrapper.removeChild(this.spineEl),this.spineEl.destroy(),this.spineEl=null),this.ticker){var t=this.ticker;this.ticker=null,t.destroy()}this.stage.destroy({children:!0}),this.stage=null,this.canvasRenderer.view.removeEventListener("contextmenu",this.preventDef),this.canvasRenderer.destroy(),this.webGLRenderer.view.removeEventListener("contextmenu",this.preventDef),this.webGLRenderer.destroy(),this.interaction=null,this.renderer=null},methods:{preventDef:function(e){e.preventDefault()},handleResize:function(){},switchRenderType:function(e){e?(this.$refs.previewStageCanvas2d.style.display="none",this.$refs.previewStageWebGL.style.display="inline"):(this.$refs.previewStageWebGL.style.display="none",this.$refs.previewStageCanvas2d.style.display="inline"),this.isCurrentWebGl=e,this.interaction&&this.interaction.removeEvents(),this.renderer=e?this.webGLRenderer:this.canvasRenderer,this.interaction=this.renderer.plugins.interaction,this.interaction.setTargetElement(this.renderer.view,this.renderer.resolution),this.handleResize()},$_trackAnimationProgress:function(){if(this.spineEl){var e=[];this.spineEl.state.tracks.forEach((function(t){t&&e.push("".concat(t.trackIndex,": ").concat(t.animation.name))})),this.tracksInfoEl.position.y=this.renderer.screen.height-Q-ee-20,this.tracksInfoEl.position.x=Q,this.tracksInfoEl.text=e.join("\n");var t=this.spineEl.state.getCurrent(this.$store.getters.currentTrack),n=0;if(t){n=t.getAnimationTime()/t.animationEnd;var i=t.getAnimationTime(),s=t.animationEnd;this.currentTime=i,this.totalTime=s,n>=100&&(n=0)}this.progressEl.clear(),this.progressEl.beginFill(4884167,.7),this.progressEl.lineStyle(1,8421504,.7),this.progressEl.drawRect(Q,this.renderer.screen.height-Q-ee,(this.renderer.screen.width-2*Q)*n,ee),this.progressEl.endFill()}},addNewSpine:function(e){this.spineEl&&(this.wrapper.removeChild(this.spineEl),this.spineEl.destroy(),this.spineEl=null),e&&(this.spineEl=new W(O()),this.$store.commit("setSlotContainer",this.spineEl.slotContainers)),this.spineEl&&(this.spineEl.name="spineEl",this.wrapper.addChild(this.spineEl),this.$_addSpineListeners())},$_addSpineListeners:function(){var e=this,t=Object(p["debounce"])((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H,i=new a["Text"](t,J(n));i.position.x=15,i.position.y=e.renderer.screen.height-50,e.stage.addChild(i);var s=new m["Tween"]({y:0,alpha:1}).to({y:300,alpha:0},2e3).easing(m["Easing"].Quadratic.Out).on("update",(function(e){var t=e.y,n=e.alpha;i.pivot.y=t,i.alpha=n})).on("complete",(function(){return e.stage.removeChild(i)}));s.start()}),25),n=this.$store.getters;this.spineEl.state.addListener({start:function(i){e.progressEventEl.clear(),n.showStart&&t('Started "'.concat(i.animation.name,'"'))},complete:function(i){e.progressEventEl.clear(),n.showComplete&&t('Completed "'.concat(i.animation.name,'"'),q)},end:function(e){n.showEnd&&t('Ended "'.concat(e.animation.name,'"'),q)},event:function(i,s){e.progressEventEl.beginFill(261998,.7),e.progressEventEl.lineStyle(1,8421504,.7);var r=s.time/i.animationEnd,a=e.renderer.screen.width-2*Q;if(e.progressEventEl.drawRect(a*r,e.renderer.screen.height-Q-ee,5,ee),e.progressEventEl.endFill(),n.showEvent){var o=s.intValue||s.floatValue||s.stringValue;t('Event: "'.concat(s.data.name,'"')+'with value = "'.concat(o,'" at ').concat(Math.round(100*s.time)/100),K)}},interrupt:function(e){n.showInput&&t("Interrupted: ".concat(e.animation.name),Z)},dispose:function(e){n.showDispose&&t("Disposed: ".concat(e.animation.name),Z)}})},scaleSpine:function(e){this.spineEl&&this.spineEl.scale.set(e)},zoomStage:function(e){this.wrapper.scale.set(e)},setSpeed:function(e){this.spineEl&&(this.spineEl.state.timeScale=e)},$_canPlayAnimation:function(e){return!!this.spineEl&&(!!e||(this.spineEl.state.setEmptyAnimation(this.$store.getters.currentTrack),!1))},addAnimation:function(e){this.$_canPlayAnimation(e)&&this.spineEl.state.addAnimation(this.$store.getters.currentTrack,e,this.$store.getters.loop)},setAnimation:function(e){this.$_canPlayAnimation(e)&&this.spineEl.state.setAnimation(this.$store.getters.currentTrack,e,this.$store.getters.loop)},clearTracks:function(){this.spineEl&&this.spineEl.state.clearTracks()},clearTrack:function(e){this.spineEl&&this.spineEl.state.clearTrack(e)},changeSkin:function(e){this.spineEl&&(this.spineEl.skeleton.setSkinByName(e),this.spineEl.skeleton.setSlotsToSetupPose())},setToSetupPose:function(e){if(this.spineEl)switch(e){case C:this.spineEl.skeleton.setSlotsToSetupPose();break;case k:this.spineEl.skeleton.setBonesToSetupPose();break;default:this.spineEl.skeleton.setToSetupPose();break}},flipX:function(e){this.spineEl&&(this.spineEl.scale.x=e?-1*this.spineEl.scale.x:Math.abs(this.spineEl.scale.x))},flipY:function(e){this.spineEl&&(this.spineEl.scale.y=e?-1*this.spineEl.scale.y:Math.abs(this.spineEl.scale.y))},posStage:function(e){this.wrapper.position.set(e.x,e.y)},addStoreListeners:function(){var e=this,t=this;this.watchers.push(this.$store.watch((function(e){return e.stageColor}),(function(){t.webGLRenderer.backgroundColor=t.stageBGColor,t.canvasRenderer.backgroundColor=t.stageBGColor})),this.$store.watch((function(e){return e.renderType}),(function(e){return t.switchRenderType(e===a["RENDERER_TYPE"].WEBGL)})),this.$store.watch((function(e){return e.scale}),this.scaleSpine),this.$store.watch((function(e){return e.zoom}),this.zoomStage),this.$store.watch((function(e){return e.speed}),this.setSpeed),this.$store.watch((function(e){return e.hasSpineData}),this.addNewSpine),this.$store.watch((function(e){return e.currentSkin}),this.changeSkin),this.$store.watch((function(e){return e.flipX}),this.flipX),this.$store.watch((function(e){return e.flipY}),this.flipY),this.$store.watch((function(e){return e.pos}),this.posStage),this.$store.watch((function(e){return e.stageImg.fileData}),this.$_setStageTexture)),$.$on(w,this.addAnimation),$.$on(b,this.setAnimation),$.$on(S,this.clearTrack),$.$on(_,this.clearTracks),$.$on(E,this.setToSetupPose);var n=function(){return e.$store.watch((function(e){return e.pos}),(function(e){var n=e.x,i=e.y;t.wrapper.x=n,t.wrapper.y=i}),{deep:!0})},i=n();this.watchers.push(i),this.wrapper.on(z,(function(){var t=e.watchers.indexOf(i);t>-1&&e.watchers.splice(t,1),i()})),this.wrapper.on(B,(function(){i=n(),e.watchers.push(i)})),this.wrapper.on(G,(function(t){var n=t.x,i=t.y;e.$store.commit("changeImgPos",{x:n,y:i})})),M(this.canvasRenderer.view,this.$_onWheel),this.webGLRenderer&&M(this.webGLRenderer.view,this.$_onWheel)},$_onWheel:function(e,t,n,i){i?this.$store.commit("setScale",this.$store.getters.scale+e):(this.$store.commit("changeImgPos",{x:t,y:n}),this.$store.commit("setZoom",this.$store.getters.zoom+e))},$_setStageTexture:function(e){if(e){var t=new Image;t.src=e,a["Texture"].addToCache(new a["Texture"](new a["BaseTexture"](t)),"bgImg"),this.wrapper.texture=a["utils"].TextureCache.bgImg;var n=this.wrapper.getLocalBounds();this.$store.commit("changeImgPos",{x:Math.round(this.renderer.screen.width/2-n.width/2),y:Math.round(this.renderer.screen.height/2-n.height/2)})}else this.wrapper.texture=null},render:function(){Object(m["update"])(),this.curFPS=this.ticker.FPS,this.renderer.render(this.stage),this.$_trackAnimationProgress()}}},ne=te,ie=(n("ca4f"),n("2877")),se=Object(ie["a"])(ne,c,u,!1,null,"205bffb3",null),re=se.exports,ae=function(){var e=this,t=e._self._c;return t("el-aside",{attrs:{width:"350px"}},[t("el-container",{},[t("el-main",[t("el-form",[t("el-form-item",[t("files-upload",{ref:"spineFiles",attrs:{id:"spineFiles"},on:{onChange:e.$_handleSpineFilesChange,onReset:e.$_handleSpineFilesDelete}})],1),t("el-form-item",{staticClass:"right"},[t("directories-upload",{ref:"spine",attrs:{id:"spine"},on:{onChange:e.$_handleSpineFilesChange,onReset:e.$_handleSpineFilesDelete}})],1)],1),t("p",{staticClass:"small-text"},[e._v(" Pixi Spine Viewer (Pixi v"+e._s(e.PIXI_VERSION)+" Pixi-Spine v"+e._s(e.PIXI_SPINE_VERSION)+" / 4.1) "),t("br"),t("a",{attrs:{href:"../pixi-spine-viewer-4x-3_7/"}},[e._v("Pixi v4.x & Spine 3.7 is here")]),t("br"),t("a",{attrs:{href:"../pixi-spine-viewer-5x-3_8/"}},[e._v("Pixi v5.x & Spine 3.8 is here")])]),t("br"),t("el-collapse",[t("the-side-panel-spine-props")],1),t("el-collapse",[t("the-side-panel-debug-events")],1),t("el-collapse",[t("the-side-panel-stage-props")],1),t("el-collapse",[t("the-side-panel-slot-containers")],1)],1)],1)],1)},oe=[],le=(n("0fb7"),n("450d"),n("f529")),ce=n.n(le),ue=function(){var e=this,t=e._self._c;return t("el-collapse-item",{attrs:{name:"slot-containers"},scopedSlots:e._u([{key:"title",fn:function(){return[t("i",{staticClass:"el-icon-coffee"}),t("b",{staticClass:"panel-group-title",staticStyle:{"margin-left":"10px"}},[e._v("Slot Containers")])]},proxy:!0}])},[t("el-button",{staticStyle:{"margin-left":"8px"},attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.$_clearSlot()}}},[e._v(" Clear ")]),t("el-form",{staticClass:"slot-form",attrs:{size:"mini","label-width":"120px"}},[t("el-form-item",{attrs:{label:"Available slots"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Select a slot",filterable:"",clearable:""},on:{change:e.$_handleSlotsSelect},model:{value:e.selectedSlot,callback:function(t){e.selectedSlot=t},expression:"selectedSlot"}},e._l(e.filteredAvailableSlots,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),e._l(e.attachedItems,(function(e){return t("div",{key:e.name,staticClass:"slot-item"},[t("el-form-item",{attrs:{label:"Slot: ".concat(e.name)}})],1)}))],2)],1)},de=[],he=(n("a732"),{name:"TheSidePanelSlotContainers",data:function(){return{slotSearch:"",selectedSlot:null,attachedItems:[]}},computed:Object(d["a"])(Object(d["a"])({},Object(h["b"])(["slotContainer"])),{},{availableSlots:function(){return this.slotContainer.map((function(e){return e.name}))},filteredAvailableSlots:function(){var e=this.slotSearch.toLowerCase();return this.availableSlots.filter((function(t){return t.toLowerCase().includes(e)}))}}),methods:{$_clearSlot:function(){this.slotContainer.forEach((function(e){e.children.forEach((function(e){e instanceof g["l"]&&null!==e&&void 0!==e&&e.name&&e.removeChildren()}))})),this.attachedItems=[]},$_handleSlotsSelect:function(e){if(e){var t=null;this.slotContainer.forEach((function(n){n.children.forEach((function(n){n instanceof g["l"]&&(null===n||void 0===n?void 0:n.name)===e&&(t=n)}))}));var n=a["Sprite"].from("https://pixijs.com/assets/bunny.png");n.anchor.set(.5,.5),t&&t.addChild(n);var i=this.attachedItems.some((function(t){return t.name===e}));i||this.attachedItems.push({name:e,type:"image",img:null,imgName:null}),this.selectedSlot=null}}}}),pe=he,fe=(n("7c3e"),Object(ie["a"])(pe,ue,de,!1,null,"34995685",null)),me=fe.exports,ge=function(){var e=this,t=e._self._c;return t("div",{ref:"wrapper"},[t("label",{directives:[{name:"show",rawName:"v-show",value:!e.isSelected&&!e.isLoading,expression:"!isSelected && !isLoading"}],ref:"inputLabel",attrs:{for:e.id}}),t("el-tooltip",[t("div",{attrs:{slot:"content"},slot:"content"},[e._v(" Click to select "),t("br"),e._v(" or drag here "),t("br"),e._v(" *.json, *.atlas & *.png files ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isSelected&&!e.isLoading,expression:"!isSelected && !isLoading"}],attrs:{type:"primary"},on:{click:e.$_onOpenClick}},[e._v(" Upload Files ")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]},[t("el-button",{attrs:{loading:!0,type:"primary"}},[e._v(e._s(e.loaded)+"%")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isSelected&&!e.isLoading,expression:"isSelected && !isLoading"}]},[t("el-tooltip",[t("div",{attrs:{slot:"content"},slot:"content"},e._l(e.selectedFileNames,(function(n){return t("div",{key:n},[e._v(e._s(n))])})),0),t("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.reset}},[e._v(" Clear ")])],1)],1),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:""!==e.errText,expression:"errText !== ''"}],attrs:{title:e.errText,type:"error","show-icon":""},on:{close:function(t){e.errText=""}}}),t("input",{ref:"input",staticClass:"app-image-res__input",attrs:{type:"file",id:e.id,accept:e.accept,multiple:""},on:{change:e.$_handleFileChange}})],1)},ve=[],we=(n("a630"),n("00b4"),n("3ca3"),n("ddb0"),function(e){return function(t){return t.name.toLowerCase().endsWith(e)}}),be={name:"FilesUpload",props:{id:{type:String,required:!0}},data:function(){return{accept:"*/*",errText:"",mainFilename:"",files:[],isLoading:!1,loaded:0}},computed:{isSelected:function(){return this.files.length>0},selectedFileNames:function(){return this.files.map((function(e){return e.filename}))}},created:function(){this.watchers=[]},mounted:function(){var e=this,t=function(t){document.addEventListener(t,e.$_preventDefaultHandler,!1)};["dragleave","drop","dragenter","dragover"].forEach((function(e){return t(e)})),this.$refs.wrapper.addEventListener("drop",this.$_onDrop),this.addStoreListener()},beforeDestroy:function(){var e=this,t=function(t){document.removeEventListener(t,e.$_preventDefaultHandler)};["dragleave","drop","dragenter","dragover"].forEach((function(e){return t(e)})),this.$_preventDefaultHandler=null,this.$refs.wrapper.removeEventListener("drop",this.$_onDrop);while(this.watchers.length){var n=this.watchers.shift();n()}},methods:{$_preventDefaultHandler:function(e){e.preventDefault()},$_onOpenClick:function(){this.$refs.inputLabel.click()},$_handleFileChange:function(e){var t=this;this.$store.dispatch("changeUploadSource","files");var n="undefined"===typeof e.target?e:e.target.files;this.errText="";var i=this;if(window.FileReader){this.isLoading=!0,this.loaded=0;var s=0,r=Array.from(n).filter((function(e){return/\.(json|skel|atlas|png|jpg|webp|avif)$/i.test(e.name.toLowerCase())}));r.some(we(".json"))||r.some(we(".skel"))?r.some(we(".atlas"))?r.some(we(".png"))||r.some(we(".jpg"))||r.some(we(".webp"))||r.some(we(".avif"))?Promise.all(r.map((function(e){return new Promise((function(t,n){var a=new FileReader;a.onloadend=function(){s++,i.loaded=(100*s/r.length).toFixed(2),i.files.push({filename:e.name,fileBody:a.result}),t()},a.onerror=n;var o=e.name.toLowerCase();o.endsWith(".json")||o.endsWith(".atlas")?a.readAsText(e):o.endsWith(".skel")?a.readAsArrayBuffer(e):a.readAsDataURL(e)}))}))).then((function(){t.$emit("onChange",t.files),t.isLoading=!1,t.loaded=0})):this.errText="No png|jpg|webp|avif file selected":this.errText="No atlas file selected":this.errText="No json/skel file selected"}else this.errText="FileReader not found"},$_onDrop:function(e){e.preventDefault(),this.errText="";var t=e.dataTransfer.files;return 0!==t.length&&(this.reset(),this.$_handleFileChange(t),!0)},reset:function(){this.files=[],this.errText="",this.isLoading=!1,this.loaded=0,this.$refs.input.value="",this.$emit("onReset")},addStoreListener:function(){var e=this,t=this;this.watchers.push(this.$store.watch((function(e){return e.uploadSource}),(function(){"files"!==e.$store.getters.uploadSource&&(t.files=[],t.errText="",t.isLoading=!1,t.loaded=0,t.$refs.input.value="")})))}}},Se=be,_e=(n("044b"),Object(ie["a"])(Se,ge,ve,!1,null,"3eabc25d",null)),Ee=_e.exports,Ce=function(){var e=this,t=e._self._c;return t("el-collapse-item",[t("div",{attrs:{slot:"title"},slot:"title"},[t("i",{staticClass:"el-icon-picture"}),e._v("  "),t("b",{staticClass:"panel-group-title"},[e._v("Stage")])]),t("el-form",{attrs:{size:"mini","label-width":"100px"}},[t("el-form-item",{attrs:{label:"Picture"}},[t("app-image-resource",{attrs:{id:"bgImage",size:"small","img-src":e.stageImgData,"img-filename":e.stageImgFile},on:{onChange:e.$_handleSceneImageChange,onReset:e.$_handleSceneImageDelete}})],1)],1)],1)},ke=[],$e=function(e){return e.slotContainer},ye=function(e){return e.stageColor},xe=function(e){return e.renderType},Te=function(e){return e.zoom},De=function(e){return e.pos},Le=function(e){return e.pos.x},Pe=function(e){return e.pos.y},Ie=function(e){return e.stageImg.filename},Oe=function(e){return e.stageImg.fileData},je=function(e){return e.scale},Re=function(e){return e.flipX},Fe=function(e){return e.speed},Ae=function(e){return e.flipY},Ne=function(e){return e.tracks},We=function(e){return e.currentTrack},ze=function(e){return e.currentSkin},Ge=function(e){return e.loop},Be=function(){return O()},Ye=function(e){return e.hasSpineData},Ue=function(e){return e.hasSpineData?O().animations.map((function(e){return e.name})):[]},Xe=function(e){return e.hasSpineData?O().skins.map((function(e){return e.name})):[]},Ve=function(e){return e.currentAnimation},Me=function(e){return e.showEventStart},He=function(e){return e.showEventEvent},qe=function(e){return e.showEventComplete},Ke=function(e){return e.showEventEnd},Ze=function(e){return e.showEventInterrupt},Je=function(e){return e.showEventDispose},Qe=function(e){return e.uploadSource},et=function(){var e=this,t=e._self._c;return t("div",{ref:"wrapper",staticClass:"app-image-res",class:[e.sizeClass]},[e.imgSelected?e._e():t("div",{staticClass:"app-image-res__placeholder"},[t("label",{staticClass:"app-image-res__label",attrs:{for:e.inputId}}),t("div",{staticClass:"app-image-res__placeholder_add"},[e._v("+")]),t("p",{staticClass:"app-image-res__placeholder_text"},[e._v(" "+e._s(e.placeholder)+" ")])]),e.imgSelected?t("div",{staticClass:"app-image-res__preview"},[t("el-tooltip",{attrs:{placement:"top",content:e.filename}},[t("img",{staticClass:"app-image-res__preview-img",attrs:{src:e.dataUrl}})])],1):e._e(),e.imgSelected?t("div",{staticClass:"app-image-res__toolbar"},[t("el-tooltip",{attrs:{content:"Download"}},[t("el-button",{staticClass:"xs-mini",attrs:{plain:"",icon:"el-icon-download"},on:{click:e.$_handleBtnDownload}})],1),t("el-tooltip",{attrs:{content:"Delete"}},[t("el-button",{staticClass:"xs-mini",attrs:{plain:"",type:"danger",icon:"el-icon-delete"},on:{click:e.$_handleBtnDelete}})],1)],1):e._e(),t("input",{ref:"input",staticClass:"app-image-res__input",attrs:{type:"file",id:e.inputId,accept:e.accept},on:{change:e.$_handleFileChange}}),t("transition",{attrs:{name:"a-fade-in"}},[e.errText.length?t("div",{staticClass:"app-image-res__err"},[e._v(e._s(e.errText))]):e._e()])],1)},tt=[],nt=(n("a9e3"),n("25f0"),n("498a"),{name:"app-image-resource",props:{size:{type:String},accept:{default:"image/*",type:String},id:{default:"",type:String},imgSrc:{default:"",type:String},imgFilename:{type:String,default:""},maxSize:{default:5120,type:Number},placeholder:{type:String,default:"No image"}},data:function(){return{errText:"",inputId:"",dataUrl:"",filename:""}},computed:{sizeClass:function(){return this.size?"app-image-res--".concat(this.size.trim().toLowerCase()):""},imgSelected:function(){return!!this.dataUrl&&!!this.filename},maxSizeFormatted:function(){var e=0;return e=this.maxSize<1024?"".concat(this.maxSize,"K"):"".concat((this.maxSize/1024).toFixed(this.maxSize%1024>0?2:0),"M"),e}},watch:{imgSrc:function(e){this.dataUrl=e,e||(this.errText="")},imgFilename:function(e){this.filename=e,e||(this.errText="")}},mounted:function(){var e=this;this.inputId=this.id||this.genId(),this.imgSrc&&(this.dataUrl=this.imgSrc),this.imgFilename&&(this.filename=this.imgFilename);var t=function(t){document.addEventListener(t,e.$_preventDefaultHandler,!1)};["dragleave","drop","dragenter","dragover"].forEach((function(e){return t(e)})),this.$refs.wrapper.addEventListener("drop",this.$_onDrop)},beforeDestroy:function(){var e=this,t=function(t){document.removeEventListener(t,e.$_preventDefaultHandler)};["dragleave","drop","dragenter","dragover"].forEach((function(e){return t(e)})),this.$_preventDefaultHandler=null,this.$refs.wrapper.removeEventListener("drop",this.$_onDrop)},methods:{genId:function(){var e=Math.random().toString(18).substring(5);return document.getElementById(e)?this.genId():e},$_preventDefaultHandler:function(e){e.preventDefault()},$_handleFileChange:function(e){var t="undefined"===typeof e.target?e[0]:e.target.files[0];this.errText="";var n=Math.floor(t.size/1024);if(n>this.maxSize)this.errText="File is bigger ".concat(this.maxSizeFormatted);else{var i=this;if(t&&window.FileReader){if(/^image/.test(t.type)){var s=new FileReader;s.readAsDataURL(t),s.onloadend=function(){i.dataUrl=this.result,i.$emit("onChange",i.dataUrl,t.name)}}this.filename=t.name}else this.errText="FileReader not found"}},$_handleBtnDownload:function(){var e=document.createElement("a");e.download=this.filename,e.href=this.dataUrl,e.click()},$_handleBtnDelete:function(){this.reset()},$_onDrop:function(e){if(e.preventDefault(),this.readonly)return!1;this.errText="";var t=e.dataTransfer.files;return 0!==t.length&&(t.length>1?(this.errText="No multi upload",!1):(this.$_handleFileChange(t),!0))},reset:function(){this.errText="",this.dataUrl="",this.filename="",this.$refs.input.value="",this.$emit("onReset")}}}),it=nt,st=(n("bac9"),Object(ie["a"])(it,et,tt,!1,null,"4ca64e99",null)),rt=st.exports,at={name:"TheSidePanelStageProps",components:{AppImageResource:rt},computed:Object(d["a"])({webGLNotSupported:function(){return!a["utils"].isWebGLSupported()},renderType:{get:function(){return this.webGLNotSupported?"Canvas2D":this.$store.getters.stageRenderType===a["RENDERER_TYPE"].WEBGL?"WebGL":"Canvas2d"},set:function(e){this.$store.commit("changeRenderType","WebGL"===e?a["RENDERER_TYPE"].WEBGL:a["RENDERER_TYPE"].CANVAS)}},bgColor:{get:function(){return this.$store.getters.stageColor},set:function(e){this.$store.commit("changeStageColor",e)}},zoom:{get:function(){return this.$store.getters.zoom},set:function(e){this.$store.commit("setZoom",e)}},posX:{get:function(){return this.$store.getters.pos.x},set:function(e){this.$store.commit("changeImgPos",{x:e,y:this.posY})}},posY:{get:function(){return this.$store.getters.pos.y},set:function(e){this.$store.commit("changeImgPos",{y:e,x:this.posX})}}},Object(h["b"])(["stageImgFile","stageImgData"])),methods:{stageImgFile:Ie,stageImgData:Oe,$_handleSceneImageDelete:function(){this.$store.commit("changeStageImg",{fileData:"",filename:""})},$_handleSceneImageChange:function(e,t){this.$store.commit("changeStageImg",{fileData:e,filename:t})}}},ot=at,lt=Object(ie["a"])(ot,Ce,ke,!1,null,"4180eacc",null),ct=lt.exports,ut=function(){var e=this,t=e._self._c;return t("el-collapse-item",[t("div",{attrs:{slot:"title"},slot:"title"},[t("i",{staticClass:"el-icon-view"}),e._v("  "),t("b",{staticClass:"panel-group-title"},[e._v("Animations")])]),t("el-form",{attrs:{size:"mini","label-width":"60px"}},[t("el-form-item",{attrs:{label:"Scale"}},[t("el-slider",{attrs:{disabled:!e.hasSpineData,min:.01,max:5,step:.01,"show-input":"","input-size":"mini"},model:{value:e.scale,callback:function(t){e.scale=t},expression:"scale"}})],1),t("el-form-item",{attrs:{label:"Flip"}},[t("el-col",{attrs:{span:12}},[e._v(" X: "),t("el-switch",{attrs:{disabled:!e.hasSpineData},model:{value:e.flipX,callback:function(t){e.flipX=t},expression:"flipX"}})],1),t("el-col",{attrs:{span:12}},[e._v(" Y: "),t("el-switch",{attrs:{disabled:!e.hasSpineData},model:{value:e.flipY,callback:function(t){e.flipY=t},expression:"flipY"}})],1)],1),t("el-form-item",{attrs:{label:"Skins"}},[t("el-col",{attrs:{span:14}},[t("el-select",{attrs:{disabled:!e.hasSpineData},model:{value:e.currentSkin,callback:function(t){e.currentSkin=t},expression:"currentSkin"}},e._l(e.skins,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-col",{attrs:{span:9,offset:1}},[t("el-tooltip",{attrs:{content:"Copy skin name"}},[t("el-button",{attrs:{icon:"el-icon-document-copy",disabled:!e.hasSpineData||""===e.skin||"default"===e.skin},on:{click:e.$_copyCurrentSkinName}})],1)],1)],1),t("el-form-item",{attrs:{label:"Speed"}},[t("el-slider",{attrs:{disabled:!e.hasSpineData,min:0,max:3,step:.01,"show-input":"","input-size":"mini"},model:{value:e.speed,callback:function(t){e.speed=t},expression:"speed"}})],1),t("el-form-item",{attrs:{label:"Pose"}},[t("el-tooltip",{attrs:{content:"Set Slots to setup pose"}},[t("el-button",{attrs:{icon:"el-icon-picture-outline",disabled:!e.hasSpineData},on:{click:function(t){return e.$_setSetupPose(e.TYPE_SLOTS)}}},[e._v(" Slots ")])],1),t("el-tooltip",{attrs:{content:"Set Bones to setup pose"}},[t("el-button",{attrs:{icon:"el-icon-s-tools",disabled:!e.hasSpineData},on:{click:function(t){return e.$_setSetupPose(e.TYPE_BONES)}}},[e._v(" Bones ")])],1),t("br"),t("el-tooltip",{attrs:{content:"Set to setup pose (skeleton)"}},[t("el-button",{attrs:{icon:"el-icon-user",disabled:!e.hasSpineData},on:{click:function(t){return e.$_setSetupPose(0)}}},[e._v(" Skeleton ")])],1)],1),t("el-form-item",{attrs:{label:"Tracks"}},[t("el-radio-group",{attrs:{disabled:!e.hasSpineData},model:{value:e.currentTrack,callback:function(t){e.currentTrack=t},expression:"currentTrack"}},e._l(e.getTracks,(function(e){return t("el-radio-button",{key:e,attrs:{size:"small",label:e,value:e}})})),1),e._v("   "),t("br"),t("el-button",{attrs:{icon:"el-icon-circle-close",disabled:!e.hasSpineData},on:{click:e.$_resetCurrentTrack}},[e._v("Clear current")]),t("el-button",{attrs:{icon:"el-icon-delete",disabled:!e.hasSpineData},on:{click:e.$_resetAllTracks}},[e._v(" Clear All ")])],1),t("el-form-item",{attrs:{label:"Loop"}},[t("el-switch",{attrs:{disabled:!e.hasSpineData},model:{value:e.isLooped,callback:function(t){e.isLooped=t},expression:"isLooped"}})],1),t("el-form-item",{attrs:{label:"Run"}},[t("el-col",{attrs:{span:14}},[t("el-cascader",{attrs:{options:e.animationsList,clearable:"",placeholder:"Empty Animation"},scopedSlots:e._u([{key:"default",fn:function(n){var i=n.node,s=n.data;return[t("span",[e._v(e._s(s.label))]),i.isLeaf?e._e():t("span",[e._v(" ("+e._s(s.children.length)+") ")])]}}]),model:{value:e.animationAtList,callback:function(t){e.animationAtList=t},expression:"animationAtList"}})],1),t("el-col",{attrs:{span:9,offset:1}},[t("el-button-group",[t("el-tooltip",{attrs:{content:"Copy animation name"}},[t("el-button",{attrs:{icon:"el-icon-document-copy",disabled:!e.hasSpineData||""===e.animation},on:{click:e.$_copyCurrentName}})],1),t("el-tooltip",{attrs:{content:"Set animation to selected track"}},[t("el-button",{attrs:{icon:"el-icon-check",disabled:!e.hasSpineData},on:{click:e.$_setAnimation}})],1)],1)],1)],1)],1)],1)},dt=[],ht={name:"TheSidePanelSpineProps",computed:Object(d["a"])({isLooped:{get:function(){return this.$store.getters.loop},set:function(e){this.$store.commit("setLoop",e)}},currentTrack:{get:function(){return this.$store.getters.currentTrack},set:function(e){this.$store.commit("setCurrentTrack",e)}},currentAnimation:{get:function(){return[this.$store.getters.currentAnimation]},set:function(e){this.$store.commit("setCurrentAnimation",e[1])}},currentSkin:{get:function(){return this.$store.getters.currentSkin},set:function(e){this.$store.commit("setCurrentSkin",e),this.skin=e}},scale:{get:function(){return this.$store.getters.scale},set:function(e){this.$store.commit("setScale",e)}},speed:{get:function(){return this.$store.getters.speed},set:function(e){this.$store.commit("setSpeed",e)}},flipX:{get:function(){return this.$store.getters.flipX},set:function(e){this.$store.commit("setFlipX",e)}},flipY:{get:function(){return this.$store.getters.flipY},set:function(e){this.$store.commit("setFlipY",e)}},animationAtList:{get:function(){return this.animation.split("/")},set:function(e){this.animation=e.join("/")}},animationsList:{get:function(){return L(this.$store.getters.animations)}}},Object(h["b"])(["getTracks","hasSpineData","skins"])),data:function(){return{TYPE_SLOTS:C,TYPE_BONES:k,animation:"",skin:""}},methods:{$_copyCurrentName:function(){var e=this;navigator.permissions.query({name:"clipboard-write"}).then((function(e){return"granted"===e.state||"prompt"===e.state?Promise.resolve():Promise.reject()})).then((function(){return navigator.clipboard.writeText(e.animation)})).then((function(){return ce()({type:"success",duration:2e3,showClose:!0,message:"Animation name copied"})}))},$_copyCurrentSkinName:function(){var e=this;navigator.permissions.query({name:"clipboard-write"}).then((function(e){return"granted"===e.state||"prompt"===e.state?Promise.resolve():Promise.reject()})).then((function(){return navigator.clipboard.writeText(e.skin)})).then((function(){return ce()({type:"success",duration:2e3,showClose:!0,message:"Skin name copied"})}))},$_addAnimation:function(){$.$emit(w,this.animation)},$_setAnimation:function(){$.$emit(b,this.animation)},$_setSetupPose:function(e){$.$emit(E,e)},$_resetCurrentTrack:function(){$.$emit(S,this.$store.getters.currentTrack)},$_resetAllTracks:function(){$.$emit(_)}}},pt=ht,ft=Object(ie["a"])(pt,ut,dt,!1,null,"0065b6ac",null),mt=ft.exports,gt=function(){var e=this,t=e._self._c;return t("el-collapse-item",[t("div",{attrs:{slot:"title"},slot:"title"},[t("i",{staticClass:"el-icon-news"}),e._v("  "),t("b",{staticClass:"panel-group-title"},[e._v("Events")])]),t("el-form",{attrs:{size:"mini","label-width":"100px"}},[t("el-form-item",{attrs:{label:"Start"}},[t("el-switch",{attrs:{disabled:!e.hasSpineData},model:{value:e.showStart,callback:function(t){e.showStart=t},expression:"showStart"}})],1),t("el-form-item",{attrs:{label:"End"}},[t("el-switch",{attrs:{disabled:!e.hasSpineData},model:{value:e.showEnd,callback:function(t){e.showEnd=t},expression:"showEnd"}})],1),t("el-form-item",{attrs:{label:"Complete"}},[t("el-switch",{attrs:{disabled:!e.hasSpineData},model:{value:e.showComplete,callback:function(t){e.showComplete=t},expression:"showComplete"}})],1),t("el-form-item",{attrs:{label:"Event"}},[t("el-switch",{attrs:{disabled:!e.hasSpineData},model:{value:e.showEvent,callback:function(t){e.showEvent=t},expression:"showEvent"}})],1),t("el-form-item",{attrs:{label:"Interrupt"}},[t("el-switch",{attrs:{disabled:!e.hasSpineData},model:{value:e.showInterrupt,callback:function(t){e.showInterrupt=t},expression:"showInterrupt"}})],1),t("el-form-item",{attrs:{label:"Dispose"}},[t("el-switch",{attrs:{disabled:!e.hasSpineData},model:{value:e.showDispose,callback:function(t){e.showDispose=t},expression:"showDispose"}})],1)],1)],1)},vt=[],wt={name:"TheSidePanelDebugEvents",computed:Object(d["a"])({showStart:{get:function(){return this.$store.getters.showStart},set:function(e){this.$store.commit("setShowStart",e)}},showEvent:{get:function(){return this.$store.getters.showEvent},set:function(e){this.$store.commit("setShowEvent",e)}},showComplete:{get:function(){return this.$store.getters.showComplete},set:function(e){this.$store.commit("setShowComplete",e)}},showEnd:{get:function(){return this.$store.getters.showEnd},set:function(e){this.$store.commit("setShowEnd",e)}},showInterrupt:{get:function(){return this.$store.getters.showInterrupt},set:function(e){this.$store.commit("setShowInterrupt",e)}},showDispose:{get:function(){return this.$store.getters.showDispose},set:function(e){this.$store.commit("setShowDispose",e)}}},Object(h["b"])(["hasSpineData"]))},bt=wt,St=Object(ie["a"])(bt,gt,vt,!1,null,"8bbd80d8",null),_t=St.exports,Et=function(){var e=this,t=e._self._c;return t("div",{ref:"wrapper",staticClass:"wrapperOpen"},[t("label",{directives:[{name:"show",rawName:"v-show",value:!e.isSelected&&!e.isLoading,expression:"!isSelected && !isLoading"}],ref:"inputLabel",attrs:{for:e.id}}),t("el-tooltip",[t("div",{attrs:{slot:"content"},slot:"content"},[e._v(" Click to select "),t("br"),e._v(" or drag here "),t("br"),e._v(" folders ")]),t("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.isSelected&&!e.isLoading,expression:"!isSelected && !isLoading"}],attrs:{type:"primary"},on:{click:e.$_onOpenClick}},[e._v(" Upload Dir ")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}]},[t("el-button",{attrs:{loading:!0,type:"primary"}},[e._v(e._s(e.loaded)+"%")])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.isSelected&&!e.isLoading,expression:"isSelected && !isLoading"}]},[t("el-tooltip",[t("div",{attrs:{slot:"content"},slot:"content"},e._l(e.selectedFileNames,(function(n){return t("div",{key:n},[e._v(e._s(n))])})),0),t("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.reset}},[e._v(" Clear ")])],1)],1),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:""!==e.errText,expression:"errText !== ''"}],attrs:{title:e.errText,type:"error","show-icon":""},on:{close:function(t){e.errText=""}}}),t("input",{ref:"input",staticClass:"app-image-res__input",attrs:{type:"file",id:e.id,accept:e.accept,webkitdirectory:"",multiple:""},on:{change:e.$_handleFileChange}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.files.length>0&&e.options.length>1,expression:"files.length > 0 && options.length > 1"}],staticClass:"invisibleMargin"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.files.length>0&&e.options.length<=1,expression:"files.length > 0 && options.length <= 1"}],staticClass:"invisibleMarginSmall"}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.files.length>0,expression:"files.length > 0"}],staticClass:"versionToggle"},[t("div",{staticClass:"rowRadioButton"},[t("p",{staticClass:"versionDescription"},[e._v("Version: ")]),t("label",{staticClass:"radioButtonVersion"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.radioCheck,expression:"radioCheck"}],attrs:{type:"radio",id:"1.0",name:"1.0",value:"1.0"},domProps:{checked:e._q(e.radioCheck,"1.0")},on:{change:[function(t){e.radioCheck="1.0"},e.$_uploadNewVersionOfFiles]}}),e._v("1.0 ")]),t("label",{staticClass:"radioButtonVersion"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.radioCheck,expression:"radioCheck"}],attrs:{type:"radio",id:"0.6",name:"0.6",value:"0.6"},domProps:{checked:e._q(e.radioCheck,"0.6")},on:{change:[function(t){e.radioCheck="0.6"},e.$_uploadNewVersionOfFiles]}}),e._v("0.6 ")])])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.options.length>1,expression:"options.length > 1"}],staticClass:"spanNamesContainer"},[t("p",{staticClass:"spanNameLabel"},[e._v("Spine: ")]),t("Select",{attrs:{"value-key":"label",placeholder:"Spine name"},on:{change:e.$_onSpineChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return t("Option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1)],1)},Ct=[],kt=n("b85c"),$t=(n("6611"),n("e772")),yt=n.n($t),xt=(n("1f1a"),n("4e4b")),Tt=n.n(xt),Dt=(n("4d63"),n("c607"),n("2c3e"),function(e){return function(t){return t.name.toLowerCase().endsWith(e)}}),Lt={name:"FilesUpload",components:{Select:Tt.a,Option:yt.a},props:{id:{type:String,required:!0}},data:function(){return{accept:"*/*",errText:"",mainFilename:"",files:[],isLoading:!1,loaded:0,radioCheck:"1.0",filesFromInput:{},options:[],value:""}},computed:{isSelected:function(){return this.files.length>0},selectedFileNames:function(){return this.files.map((function(e){return e.filename}))}},created:function(){this.watchers=[]},mounted:function(){var e=this,t=function(t){document.addEventListener(t,e.$_preventDefaultHandler,!1)};["dragleave","dragenter","dragover"].forEach((function(e){return t(e)})),this.$refs.wrapper.addEventListener("drop",this.$_onDrop),this.addStoreListener()},beforeDestroy:function(){var e=this,t=function(t){document.removeEventListener(t,e.$_preventDefaultHandler)};["dragleave","drop","dragenter","dragover"].forEach((function(e){return t(e)})),this.$_preventDefaultHandler=null,this.$refs.wrapper.removeEventListener("drop",this.$_onDrop);while(this.watchers.length){var n=this.watchers.shift();n()}},methods:{$_preventDefaultHandler:function(e){e.preventDefault()},$_onOpenClick:function(){this.$refs.inputLabel.click()},$_onSpineChange:function(){var e=this;this.files=[],this.radioCheck="1.0";var t=this,n=this.filesFromInput[this.value].desktop;Promise.all(n.map((function(e){return new Promise((function(n,i){var s=new FileReader;s.onloadend=function(){t.files.push({filename:e.name,fileBody:s.result}),n()},s.onerror=i;var r=e.name.toLowerCase();r.endsWith(".json")||r.endsWith(".atlas")?s.readAsText(e):r.endsWith(".skel")?s.readAsArrayBuffer(e):s.readAsDataURL(e)}))}))).then((function(){e.$emit("onChange",e.files),e.isLoading=!1,e.loaded=0}))},$_uploadNewVersionOfFiles:function(){var e=this;this.files=[];var t=this,n="1.0"===this.radioCheck?this.filesFromInput[this.value].desktop:this.filesFromInput[this.value].mobile;Promise.all(n.map((function(e){return new Promise((function(n,i){var s=new FileReader;s.onloadend=function(){t.files.push({filename:e.name,fileBody:s.result}),n()},s.onerror=i;var r=e.name.toLowerCase();r.endsWith(".json")||r.endsWith(".atlas")?s.readAsText(e):r.endsWith(".skel")?s.readAsArrayBuffer(e):s.readAsDataURL(e)}))}))).then((function(){e.$emit("onChange",e.files),e.isLoading=!1,e.loaded=0}))},$_handleFileChange:function(e){var t,n=this;if(this.$store.dispatch("changeUploadSource","directory"),"undefined"===typeof e.target)t=e;else{t=e.target.files;for(var i=0;i<t.length;i++)t[i].filepath=t[i].webkitRelativePath}this.errText="";var s=this;if(window.FileReader){this.isLoading=!0,this.loaded=0;for(var r,a=0,o=Array.from(t).filter((function(e){return/\.(json)$/i.test(e.name.toLowerCase())})),l=function(){var e=o[c].name.replace(".json",""),i=new RegExp("".concat(e,"(_\\d+)?.(skel|atlas|png|jpg|webp)$"));n.options.push({label:e,value:e}),r=Array.from(t).filter((function(t){return t.filepath.includes("/1")&&i.test(t.name)||t.name.includes("".concat(e,".json"))}));var s=Array.from(t).filter((function(t){return t.filepath.includes("/0.6")&&i.test(t.name)||t.name.includes("".concat(e,".json"))}));n.filesFromInput[e]={mobile:s,desktop:r}},c=0;c<o.length;c++)l();this.value=o[0].name.replace(".json",""),r=this.filesFromInput[this.value].desktop,r.some(Dt(".json"))||r.some(Dt(".skel"))?r.some(Dt(".atlas"))?r.some(Dt(".png"))||r.some(Dt(".jpg"))||r.some(Dt(".webp"))?Promise.all(r.map((function(e){return new Promise((function(t,n){var i=new FileReader;i.onloadend=function(){a++,s.loaded=(100*a/r.length).toFixed(2),s.files.push({filename:e.name,fileBody:i.result}),t()},i.onerror=n;var o=e.name.toLowerCase();o.endsWith(".json")||o.endsWith(".atlas")?i.readAsText(e):o.endsWith(".skel")?i.readAsArrayBuffer(e):i.readAsDataURL(e)}))}))).then((function(){n.$emit("onChange",n.files),n.isLoading=!1,n.loaded=0})):this.errText="No png|jpg|webp file selected":this.errText="No atlas file selected":this.errText="No json/skel file selected"}else this.errText="FileReader not found"},$_onDrop:function(e){var t=this,n=e.dataTransfer.items;e.preventDefault(),this.getFilesDataTransferItems(n).then((function(e){t.errText="";var n=e;return 0!==n.length&&(t.reset(),t.$_handleFileChange(n),!0)}))},getFilesDataTransferItems:function(e){var t=this,n=[];return new Promise((function(i){var s,r=[],a=Object(kt["a"])(e);try{for(a.s();!(s=a.n()).done;){var o=s.value;r.push(t.traverseFileTreePromise(o.webkitGetAsEntry(),null,n))}}catch(l){a.e(l)}finally{a.f()}Promise.all(r).then((function(){i(n)}))}))},traverseFileTreePromise:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;return new Promise((function(s){if(e.isFile)e.file((function(e){e.filepath=n||"".concat(e.name),i.push(e),s(e)}));else if(e.isDirectory){var r=e.createReader();r.readEntries((function(n){var r,a=[],o=Object(kt["a"])(n);try{for(o.s();!(r=o.n()).done;){var l=r.value;a.push(t.traverseFileTreePromise(l,e.fullPath,i))}}catch(c){o.e(c)}finally{o.f()}s(Promise.all(a))}))}}))},reset:function(){this.files=[],this.errText="",this.isLoading=!1,this.loaded=0,this.radioCheck="1.0",this.options=[],this.$refs.input.value="",this.$emit("onReset")},addStoreListener:function(){var e=this,t=this;this.watchers.push(this.$store.watch((function(e){return e.uploadSource}),(function(){"directory"!==e.$store.getters.uploadSource&&(t.files=[],t.errText="",t.isLoading=!1,t.loaded=0,t.$refs.input.value="")})))}}},Pt=Lt,It=(n("b13a"),Object(ie["a"])(Pt,Et,Ct,!1,null,"054e7152",null)),Ot=It.exports,jt={name:"TheSidePanel",components:{TheSidePanelSlotContainers:me,TheSidePanelDebugEvents:_t,TheSidePanelSpineProps:mt,TheSidePanelStageProps:ct,FilesUpload:Ee,DirectoriesUpload:Ot},data:function(){return{PIXI_VERSION:a["VERSION"],PIXI_SPINE_VERSION:"3.1.2"}},methods:{$_handleSpineFilesChange:function(e){var t=this;this.$store.dispatch("changeVersion"),this.$store.dispatch("parseFiles",e).catch((function(e){t.$refs.spineFiles.reset(),ce()({type:"error",message:e,showClose:!0})}))},$_handleSpineFilesDelete:function(){this.$store.dispatch("clearSpine")}}},Rt=jt,Ft=(n("abb1"),Object(ie["a"])(Rt,ae,oe,!1,null,"051da0fc",null)),At=Ft.exports,Nt={name:"app",components:{TheSidePanel:At,ThePreviewStage:re}},Wt=Nt,zt=(n("8488"),Object(ie["a"])(Wt,o,l,!1,null,null,null)),Gt=zt.exports,Bt=n("2909"),Yt=n("c7eb"),Ut=n("1da1"),Xt=function(e){var t=e.commit;T(),I(null),t("setSpineData",!1),t("cleanup",null)},Vt=function(e){var t=e.commit;I(null),t("setSpineData",!1),t("cleanup",null)},Mt=function(e,t){var n=e.commit;n("setUploadSource",t)},Ht=function(e,t){var n=e.commit;return x(t).then(function(){var e=Object(Ut["a"])(Object(Yt["a"])().mark((function e(t){return Object(Yt["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:I(t.spineData),n("setSpineData",!!t.spineData),n("setCurrentSkin",t.spineData.defaultSkin?t.spineData.defaultSkin.name:t.spineData.skins[0].name);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},qt={setSlotContainer:function(e,t){e.slotContainer=t},changeStageColor:function(e,t){e.stageColor=t},changeRenderType:function(e,t){e.renderType=t},setZoom:function(e,t){e.zoom=t},changeImgPos:function(e,t){e.pos=t},setScale:function(e,t){e.scale=t},setFlipX:function(e,t){e.flipX=t},setFlipY:function(e,t){e.flipY=t},setSpeed:function(e,t){e.speed=t},setLoop:function(e,t){e.loop=t},setCurrentTrack:function(e,t){e.currentTrack=t},setSpineData:function(e,t){e.hasSpineData=t},setCurrentAnimation:function(e,t){e.currentAnimation=t},setCurrentSkin:function(e,t){e.currentSkin=t},setShowStart:function(e,t){e.showEventStart=t},setShowEvent:function(e,t){e.showEventEvent=t},setShowComplete:function(e,t){e.showEventComplete=t},setShowEnd:function(e,t){e.showEventEnd=t},setShowInterrupt:function(e,t){e.showEventInterrupt=t},setShowDispose:function(e,t){e.showEventDispose=t},changeStageImg:function(e,t){e.stageImg.fileData=t.fileData,e.stageImg.filename=t.filename},setUploadSource:function(e,t){e.uploadSource=t},cleanup:function(e){e.spineData=null,e.currentTrack=0,e.loop=!1,e.currentAnimation="",e.currentSkin="",e.scale=1,e.zoom=1,e.speed=1,e.flipX=!1,e.flipY=!1}};r["default"].use(h["a"]);var Kt={stageColor:"#3c3c3c",stageImg:{filename:"",fileData:""},renderType:1,initialScale:1,scale:1,zoom:1,speed:1,flipX:!1,flipY:!1,currentSkin:"",hasSpineData:!1,currentTrack:0,currentAnimation:"",loop:!1,tracks:Object(Bt["a"])(Array(12).keys()),showEventStart:!0,showEventEvent:!0,showEventComplete:!0,showEventEnd:!1,showEventInterrupt:!1,showEventDispose:!1,pos:{x:0,y:0},uploadSource:"",slotContainer:[]},Zt=new h["a"].Store({state:Kt,getters:i,mutations:qt,actions:s}),Jt=n("9483"),Qt={duration:5e3,showClose:!0};Object(Jt["a"])("".concat("/pixi-spine-viewer/","service-worker.js"),{ready:function(){ce()(Object.assign.apply(Object,Object(Bt["a"])(Qt).concat([{message:"App is being served from cache."}])))},registered:function(){console.log("Service worker has been registered.")},cached:function(){ce()(Object.assign.apply(Object,Object(Bt["a"])(Qt).concat([{message:"Content has been cached for offline use.",type:"success"}])))},updatefound:function(){ce()(Object.assign.apply(Object,Object(Bt["a"])(Qt).concat([{message:"New content is downloading."}])))},updated:function(){ce()(Object.assign.apply(Object,Object(Bt["a"])(Qt).concat([{message:"The app has been updated!\nPlease close tab with app and open again to enjoy the latest changes",type:"success"}])))},offline:function(){ce()(Object.assign.apply(Object,Object(Bt["a"])(Qt).concat([{message:"No internet connection found. App is running in offline mode.",type:"warning"}])))},error:function(e){ce()(Object.assign.apply(Object,Object(Bt["a"])(Qt).concat([{message:"Error during service worker registration:".concat(e),type:"error"}])))}});n("b5c2");var en=n("20cf"),tn=n.n(en),nn=(n("9d4c"),n("e450")),sn=n.n(nn),rn=(n("e960"),n("b35b")),an=n.n(rn),on=(n("915d"),n("e04d")),ln=n.n(on),cn=(n("0c67"),n("299c")),un=n.n(cn),dn=(n("28b2"),n("c7ad")),hn=n.n(dn),pn=(n("3c52"),n("0d7b")),fn=n.n(pn),mn=(n("fe07"),n("6ac5")),gn=n.n(mn),vn=(n("b5d8"),n("f494")),wn=n.n(vn),bn=(n("a586"),n("7464")),Sn=n.n(bn),_n=(n("10cb"),n("f3ad")),En=n.n(_n),Cn=(n("eca7"),n("3787")),kn=n.n(Cn),$n=(n("425f"),n("4105")),yn=n.n($n),xn=(n("b0ee"),n("d180")),Tn=n.n(xn),Dn=(n("a335"),n("c0bb")),Ln=n.n(Dn),Pn=(n("7a0f"),n("0f6c")),In=n.n(Pn),On=(n("f4f9"),n("c2cc")),jn=n.n(On),Rn=(n("a769"),n("5cc3")),Fn=n.n(Rn),An=(n("de31"),n("c69e")),Nn=n.n(An),Wn=(n("adec"),n("3d2d")),zn=n.n(Wn),Gn=(n("ae26"),n("845f")),Bn=n.n(Gn),Yn=(n("1951"),n("eedf")),Un=n.n(Yn),Xn=n("6039"),Vn=n.n(Xn),Mn=n("4897"),Hn=n.n(Mn);Hn.a.use(Vn.a),r["default"].use(Un.a),r["default"].use(Bn.a),r["default"].use(zn.a),r["default"].use(Nn.a),r["default"].use(Fn.a),r["default"].use(jn.a),r["default"].use(In.a),r["default"].use(Ln.a),r["default"].use(Tn.a),r["default"].use(yn.a),r["default"].use(kn.a),r["default"].use(En.a),r["default"].use(Sn.a),r["default"].use(wn.a),r["default"].use(gn.a),r["default"].use(fn.a),r["default"].use(Tt.a),r["default"].use(yt.a),r["default"].use(hn.a),r["default"].use(un.a),r["default"].use(ln.a),r["default"].use(an.a),r["default"].use(sn.a),r["default"].use(tn.a);n("6eb0");a["utils"].skipHello(),r["default"].config.productionTip=!1,new r["default"]({store:Zt,render:function(e){return e(Gt)}}).$mount("#app"),window.__PIXI_INSPECTOR_GLOBAL_HOOK__&&window.__PIXI_INSPECTOR_GLOBAL_HOOK__.register({PIXI:a}),window.__PIXI_APP__=Gt},"69d3":function(e,t,n){},"7c3e":function(e,t,n){"use strict";n("52e3")},8488:function(e,t,n){"use strict";n("f3b6")},abb1:function(e,t,n){"use strict";n("c5f8")},b13a:function(e,t,n){"use strict";n("5666")},bac9:function(e,t,n){"use strict";n("f4ae")},c5f8:function(e,t,n){},ca4f:function(e,t,n){"use strict";n("29d0")},f3b6:function(e,t,n){},f4ae:function(e,t,n){}});
//# sourceMappingURL=app.d779ed89.js.map